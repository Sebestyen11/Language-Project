function layoutTree(data, startX, startY){
  let nodes = [];
  let links = [];

  function traverse(node, x, y){
    node.x = x;
    node.y = y;
    nodes.push(node);
    if(node.children){
      const n = node.children.length;
      const startChildX = x - dx*(n-1)/2;
      node.children.forEach((child,i)=>{
        const cx = startChildX + i*dx;
        const cy = y + dy;
        links.push({x1:x, y1:y+15, x2:cx, y2:cy-15});
        traverse(child, cx, cy);
      });
    }
  }

  data.forEach((root,i)=>{
    // Increased spacing between top-level families:
    const topOffset = (i-0.5)*700; // was 400 â†’ 700
    traverse(root, width/2 + topOffset, 50);
  });

  return {nodes, links};
}
